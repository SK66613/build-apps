/* ===== Local fonts (Telegram-safe) ===== */
@font-face{
  font-family: "Inter";
  src: url("/fonts/Inter-roman.var.woff2") format("woff2");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: "Montserrat";
  src: url("/fonts/Montserrat-roman.var.woff2") format("woff2");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}




:root{
  /* Figma tokens (default fallback) */
  --color-bg:#0f1219;
  --color-surface:#121a2a;
  --color-card:#101827;
  --color-border:#263048;
  --color-text:#e8f0ff;
  --color-muted:#97aac4;

  --color-brand:#7C5CFF;
  --color-brand-soft:#2A2352;

  --btn-primary-bg:#7C5CFF;
  --btn-primary-text:#ffffff;
  --btn-secondary-bg:#1a2336;
  --btn-secondary-text:#e8f0ff;

  --tabbar-bg:#0c0d12;
  --tabbar-text:#97aac4;
  --tabbar-active:#ffffff;

  --radius-card:16px;
  --radius-btn:14px;
  --radius-input:12px;

  --shadow-card:0 16px 40px rgba(0,0,0,.18);
  --shadow-soft:0 8px 24px rgba(0,0,0,.12);
  --glow-brand:0 0 0 2px rgba(124,92,255,.35), 0 0 24px rgba(124,92,255,.22);

  --font-body: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-head: Montserrat, Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-size:14px;

  /* safe-area / tabbar sizing */
  --safe-bottom: min(env(safe-area-inset-bottom, 0px), 20px);
  --tabbar-h: 64px;

  /* legacy mapping */
  --bg: var(--color-bg);
  --fg: var(--color-text);
  --sub: var(--color-muted);
  --acc: var(--color-brand);
  --line: rgba(255,255,255,.10);

  /* === aliases for blocks (bridge) === */
  --accent: var(--color-brand);
  --onAccent: var(--btn-primary-text);
  --text: var(--color-text);
  --muted: var(--color-muted);

  --surface: var(--color-surface);

  /* FALLBACKS (без color-mix) */
  --surface2: var(--color-surface);

  --card: var(--color-card);

  /* для блоков, которые ждут card-bg/border */
  --card-bg: var(--color-card);
  --card-border: var(--color-border);

  --brand: var(--color-brand);
  --btnPrimaryBg: var(--btn-primary-bg);
  --btnPrimaryText: var(--btn-primary-text);

  --r-card: var(--radius-card);
  --r-btn: var(--radius-btn);
  --r-input: var(--radius-input);

  /* numeric strengths (0..1) for blocks calculations */
  --shadow-a: .35;
  --glow-a: .35;
}

/* Включаем “красивые” color-mix только если поддерживается */


html,body{height:100%}
body{
  margin:0;
  background:var(--color-bg);
  color:var(--color-text);
  font: var(--font-size)/1.55 var(--font-body);
}
h1,h2,h3,.h1,.h2,.h3{font-family:var(--font-head)}

.container{
  padding:16px 16px calc(var(--tabbar-h) + var(--safe-bottom) + 20px);
}

/* ===== Cards (safe fallback + modern mix) ===== */
.card{
  /* fallback (TG WebView safe) */
  background: var(--color-card);
  border:1px solid var(--color-border);

  border-radius: var(--radius-card);
  padding:12px;
  box-shadow: var(--shadow-soft);
}



/* Section container ("Раздел") */
.sec{padding:12px}
.sec__hd{font-weight:800;font-size:18px;margin:2px 2px 10px;opacity:.95}
.sec__bd{display:flex;flex-direction:column;gap:10px}

/* Section container ("Раздел") */
.sec{
  padding:12px;
  background: var(--color-surface);
  border-radius: var(--radius-card);
}

/* ===== Tabbar (safe fallback + modern mix) ===== */
.tabbar{
  position:fixed;
  left:0; right:0; bottom:0;
  height: calc(var(--tabbar-h) + var(--safe-bottom));
  padding-bottom: max(0px, calc(var(--safe-bottom) - 16px));

  /* fallback */
  background: var(--tabbar-bg);
  border-top:1px solid var(--color-border);

  /* optional blur (if supported it's ok; if not, ignored) */
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);

  display:grid;
  grid-template-columns:repeat(5,1fr);
  align-items:center;
  z-index:10;
}



.tab{
  display:grid;
  gap:3px;
  place-items:center;
  color:var(--tabbar-text);
  font-size:12px;
  cursor:pointer;
}
.tab.active{color:var(--tabbar-active)}

.sys{
  border:1px dashed var(--line);
  border-radius:14px;
  padding:12px;
  background:rgba(255,255,255,.03)
}
.sys h4{margin:0 0 8px}
